<!doctype html>

<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å¿ƒã®æ˜Ÿï½œMultebaer</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="main-page">
	  <!-- ğŸ”’ ç‡ˆç®± -->
  <div id="entrance-modal" class="modal">
    <div class="modal-content">
      <h2>é€²ç«™é ˆçŸ¥</h2>
      <p>æœ¬ç¶²ç«™åŒ…å«æˆäººå‰µä½œå…§å®¹ï¼Œè«‹ç¢ºèªæ‚¨é»æ“Šè©²å…§å®¹æ™‚å·²æ»¿18æ­²ä¸¦é¡˜æ„ç€è¦½ã€‚</p>
      <p class="tight">æœ¬äººä¸æ‰¿åŒ…ç²¾ç¥æå¤±è²»ã€‚</p>
      <button id="enter-site">æˆ‘å·²é–±ä¸¦ä¸”åŒæ„</button>
    </div>
  </div>
	
	<audio id="bgm" src="audio/ä¾†è‡ªé æ–¹çš„é¢¨.mp3" loop></audio>
	<script>
  document.getElementById('enter-site').addEventListener('click', function () {
    document.getElementById('entrance-modal').style.display = 'none';
    document.getElementById('bgm').play();
  });
</script>
	<div class="background-overlay"></div>
	
  <!-- å…±ç”¨é¸å–® -->
  <header>
    <nav class="navbar">
      <ul>
        <li><a href="/" onclick="navigateTo('iframe.html', event)">Home</a></li>
        <li><a href="#" onclick="navigateTo('art-portfolio.html', event)">Gallery</a></li>
        <li><a href="#" onclick="navigateTo('bjd-portfolio.html', event)">BJDç›¸é—œ</a></li>
        <li><a href="#" onclick="navigateTo('dreams.html', event)">å¤¢å‘ç›¸é—œ</a></li>
        <li><button onclick="loadPage('contact')">Contact</button></li>
      </ul>
    </nav>
  </header>

   <!-- å…§å®¹é¡¯ç¤ºå€ -->
	
	<div id="content-container">
  <!-- å­é é¢å…§å®¹æœƒè¢«å‹•æ…‹è¼‰å…¥é€²ä¾† -->
</div>
	
<!--  <iframe id="content-frame" src="iframe.html" frameborder="0" style="width:100%; height:100px; border: none;"></iframe>

<script>
  // iframe åˆ‡æ›å­é ç”¨
  function loadPage(page) {
    document.getElementById('content-frame').src = page;
  }

  // iframe è‡ªå‹•èª¿æ•´é«˜åº¦ç”¨
  window.addEventListener("message", function (event) {
	  if (event.data.type === "setHeight" &&
		  event.data.height) {
		  const iframe = document.getElementById("content-frame");
		  iframe.style.height = event.data.height + "px";
	  }
  });
</script>-->
	<script>
function navigateTo(page, event) {
  event.preventDefault();

  const cleanUrl = '/' + page.replace(/\.html$/, '');
  const htmlPath = '/' + page; // âœ… ä¸€å®šåŠ  /ï¼Œå¾ç¶²ç«™æ ¹ç›®éŒ„é–‹å§‹æŠ“ï¼

  history.pushState({}, "", cleanUrl);

  fetch(htmlPath)
    .then(res => {
      if (!res.ok) throw new Error("Page not found: " + htmlPath);
      return res.text();
    })
    .then(html => {
      document.getElementById("content-container").innerHTML = html;
    })
    .catch(err => {
      console.error("è¼‰å…¥å¤±æ•—", htmlPath);
      document.getElementById("content-container").innerHTML = "<h2>é é¢è¼‰å…¥å¤±æ•—</h2>";
    });
}
		 window.addEventListener("DOMContentLoaded", () => {
    const path = location.pathname;
    if (path === "/" || path === "") {
      navigateTo("iframe.html");
    } else {
      // âœ… å¦‚æœæ˜¯åƒ /art-portfolio é€™ç¨®ç›´æ¥é€²å­é é¢ï¼Œä¹Ÿèƒ½è™•ç†
      const realPath = path.slice(1) + ".html";
      navigateTo(realPath);
    }
  });

  // âœ… æŒ‰ã€Œè¿”å›éµã€æ™‚é‡æ–°æŠ“å°æ‡‰é é¢
  window.addEventListener("popstate", () => {
    const path = location.pathname;
    const realPath = path === "/" ? "iframe.html" : path.slice(1) + ".html";
    fetch("/" + realPath)
      .then(res => res.text())
      .then(html => {
        document.getElementById("content-container").innerHTML = html;
      });
  });
  </script>

</body>
</html>
